#:import utils kivy.utils
<Content_>
    adaptive_height: True
    TwoLineIconListItem:
        text: root.phone
        secondary_text: root.address
        IconLeftWidget:
            icon: 'phone'

<MainScreen>:
    name:  'Main'
    id: main
    MDFloatLayout
##########################################################################################################
                              #PRODUCT SCREEN#
##########################################################################################################
        MDBoxLayout:
            md_bg_color: 1, 1, 1, 1
            pos_hint: {"center_x":0.5, "center_y":0.92}
            size_hint:0.98, 0.06
            radius: "25dp","25dp","25dp", "25dp"
            orientation: 'horizontal'
            MDIconButton:
                id: button2
                icon: "menu"
                # on_press:
                theme_text_color: "Custom"
                text_color: utils.get_color_from_hex('#000000')

        Carousel:
            id: carousel
            direction: "right"
            scroll_distance: "50dp"
            size_hint: 1, 0.99
            pos_hint: {"center_x":0.5, "center_y":.35}
            scroll_timeout: 0
##########################################################################################################
                              #HOME SCREEN#
##########################################################################################################
            MDFloatLayout:
                Image:
                    source: "images/header.png"
                    pos_hint: {"center_x": .5, "center_y": .92}
                    size_hint_x: 0.9
                    allow_stretch: True

                ScrollView:
                    size_hint: 0.9, 0.9
                    do_scroll_x: False
                    bar_width: 0
                    pos_hint: {"center_x": .5, "center_y": 0.45}



##########################################################################################################
                              #PRODUCT SCREEN#
##########################################################################################################
            MDFloatLayout:
                md_bg_color: 1, 1, 1, 1
                orientation: "vertical"
                ScrollView:
                    size_hint: 0.9, 0.8
                    do_scroll_x: False
                    bar_width: 0
                    pos_hint: {"center_x": .5, "center_y": 0.6}
                    MDBoxLayout:
                        orientation: "vertical"
                        Carousel:
                            id: carousel
                            direction: "right"
                            scroll_distance: "50dp"
                            size_hint: 1, 0.2
                            pos_hint: {"center_x":0.5, "center_y":.35}
                            Image:
                                source: "images/header/img_1.png"
                        MDGridLayout:
                            margin_y: dp(10)
                            id: list_product
                            size_hint_y: None
                            height: self.minimum_height
                            spacing: dp(10)
                            cols: 2

##########################################################################################################
                              #MY CART SCREEN#
##########################################################################################################
            MDFloatLayout:
                md_bg_color: 1, 1, 1, 1
                orientation: "vertical"
                md_bg_color: utils.get_color_from_hex('#FFFFFF')
                MDLabel:
                    id: label0
                    text: "[b]Mon Panier[/b]"
                    pos_hint: {"center_x":0.5, "center_y":0.95}
                    font_size: "20sp"
                    halign: "center"
                    markup: True
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')
                MDSeparator:
                    pos_hint: {"center_x": .5, "center_y": 0.91}
                    size_hint: 1, None
                    height: dp(2)
                    md_bg_color: utils.get_color_from_hex('#808080')
                MDSpinner:
                    id: spinner
                    size_hint: None, None
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    size: dp(10), dp(10)
                    pos: 540, 300
                    active: False
                ScrollView:
                    size_hint: 0.9, 0.7
                    do_scroll_x: False
                    bar_width: 0
                    pos_hint: {"center_x": .5, "center_y": 0.5}
                    MDGridLayout:
                        id: list_my_cart
                        size_hint_y: None
                        md_bg_color: utils.get_color_from_hex('#808080')
                        height: self.minimum_height
                        spacing: dp(2)
                        cols: 1
                MDFillRoundFlatButton:
                    text: "[b]Valider ma commmande[/b]"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    markup: True
                    md_bg_color: utils.get_color_from_hex('#10B34E')
                    pos_hint: {"center_x": 0.5, "center_y": 0.15}
                    size_hint: 0.8, 0.06
                    on_press: root.manager.current= 'validation'

##########################################################################################################
                              #MY STOCKIST SCREEN#
##########################################################################################################
            MDFloatLayout:
                md_bg_color: 1, 1, 1, 1
                orientation: "vertical"
                md_bg_color: utils.get_color_from_hex('#FFFFFF')
                MDLabel:
                    id: label0
                    text: "[b]List stockist[/b]"
                    pos_hint: {"center_x":0.5, "center_y":0.95}
                    font_size: "20sp"
                    halign: "center"
                    markup: True
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')
                MDTextFieldRound:
                    id: recherche_stock
                    icon_left: "magnify"
                    #icon_right: 'eye-off'
                    hint_text: "Recherche"
                    pos_hint: {"center_x": .5, "center_y": 0.86}
                    size_hint: .8, .05
                    normal_color: utils.get_color_from_hex('#FFFFFF')
                    color_active: utils.get_color_from_hex('#FFFFFF')
                    on_text:
                        root.search_stockist(recherche_stock.text)
                MDSpinner:
                    id: spinner
                    size_hint: None, None
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    size: dp(10), dp(10)
                    pos: 540, 300
                    active: False
                ScrollView:
                    size_hint: 0.9, 0.8
                    do_scroll_x: False
                    bar_width: 0
                    pos_hint: {"center_x": .5, "center_y": 0.4}
                    MDGridLayout:
                        id: list_stockist
                        size_hint_y: None
                        md_bg_color: utils.get_color_from_hex('#FFFFFF')
                        height: self.minimum_height
                        spacing: dp(2)
                        cols: 1

##########################################################################################################
                              #BOTTOM NAVIGATION#
##########################################################################################################

        MDBoxLayout:
            md_bg_color: 1, 1, 1, 1
            pos_hint: {"center_x":0.5, "center_y":0.05}
            size_hint:0.98, 0.06
            radius: "25dp","25dp","25dp", "25dp"
            orientation: 'horizontal'
            MDFloatLayout:
                orientation: 'vertical'
                spacing: 2
                MDIconButton:
                    id: button0
                    icon: "home-outline"
                    pos_hint: {"center_x":0.5, "center_y":0.55}
                    on_press: root.select_screen(0)
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#10B34E')
                MDLabel:
                    id: label0
                    text: "Menu"
                    pos_hint: {"center_x":0.5, "center_y":0.25}
                    font_size: "11sp"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#10B34E')

            MDFloatLayout:
                orientation: 'vertical'
                spacing: 2
                MDIconButton:
                    id: button1
                    icon: "magnify"
                    pos_hint: {"center_x":0.5, "center_y":0.55}
                    on_press:
                        root.select_screen(1)
                        root.get_all_product()
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')
                MDLabel:
                    id: label1
                    text: "Search"
                    pos_hint: {"center_x":0.5, "center_y":0.25}
                    font_size: "11sp"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')
            MDFloatLayout:
                orientation: 'vertical'
                spacing: 2
                MDIconButton:
                    id: button2
                    icon: "heart-outline"
                    pos_hint: {"center_x":0.5, "center_y":0.55}
                    on_press:
                        root.select_screen(2)
                        root.get_my_cart()
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')
                MDLabel:
                    id: label2
                    text: "favorites"
                    pos_hint: {"center_x":0.5, "center_y":0.25}
                    font_size: "11sp"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')
            MDFloatLayout:
                orientation: 'vertical'
                spacing: 2
                MDIconButton:
                    id: button3
                    icon: "cart-minus"
                    pos_hint: {"center_x":0.5, "center_y":0.55}
                    on_press:
                        root.select_screen(3)
                        root.process_spinner_stockist()
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')
                MDLabel:
                    id: label3
                    text: "My Cart"
                    pos_hint: {"center_x":0.5, "center_y":0.25}
                    font_size: "11sp"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: utils.get_color_from_hex('#000000')

